<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="RUC, Redeemer's University Chapel of Power, Chapel Dues">
    <meta property="author" content="Taiwo Joshua">
    <meta name="description" content="Chapel Dues Payment Record">
    <meta property="og:description" content="Chapel Dues Payment Record">
    <meta property="og:locale" content="en_UK">
    <meta property="og:image" content="../Assets/img/RUC LOGO1.png">
    <meta property="og:title" content="RUC Chapel Dues Record">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://">
    <meta name="theme-color" content="#FF00FF">
    <link rel="stylesheet" href="../Assets/library/fontawesome-free-5.0.13/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../Assets/css/preloader.css">
    <link rel="stylesheet" href="../Assets/css/index.css">
    <link rel="stylesheet" href="../Assets/css/statistics.css">
    <link rel="icon" href="../Assets/img/RUC LOGO1.png">
    <link rel="icon" href="../Assets/img/RUC LOGO1.png" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../Assets/img/RUC LOGO1.png">
    <title>Statistics</title>
</head>
<body>
    <div id="preloader">
        <div class="socket">
            <div class="gel center-gel">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c1 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c2 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c3 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c4 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c5 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c6 r1">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            
            <div class="gel c7 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            
            <div class="gel c8 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c9 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c10 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c11 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c12 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c13 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c14 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c15 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c16 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c17 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c18 r2">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c19 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c20 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c21 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c22 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c23 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c24 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c25 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c26 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c28 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c29 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c30 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c31 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c32 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c33 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c34 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c35 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c36 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            <div class="gel c37 r3">
            <div class="hex-brick h1"></div>
            <div class="hex-brick h2"></div>
            <div class="hex-brick h3"></div>
            </div>
            
        </div>
    </div>
    <div class="pagewrapper">
        <main>
            <div class="banner">
                <img src="../Assets/img/rucbanner.PNG" alt="Redeemer's University Banner">
            </div>
            <div class="titlewrapper">
                <h3 class="title">
                    STATISTICS
                </h3>
            </div>
            <div class="formwrapper">
                <form class="form">
                    <div>
                        <strong>Total:</strong>
                        <span id="total">20</span>
                    </div>
                </form>
            </div>
        </main>
        <nav>
            <ul>
                <li class="list">
                    <a>
                        <span class="icon">
                            <i class="fas fa-church"></i>
                        </span>
                        <span class="text">Home</span>
                    </a>
                </li>
                <li class="list">
                    <a>
                        <span class="icon">
                            <i class="fas fa-plus"></i>
                        </span>
                        <span class="text">Add</span>
                    </a>
                </li>
                <li class="list">
                    <a>
                        <span class="icon">
                            <i class="fas fa-minus"></i>
                        </span>
                        <span class="text">Remove</span>
                    </a>
                </li>
                <li class="list active">
                    <a>
                        <span class="icon">
                            <i class="fas fa-chart-bar"></i>
                        </span>
                        <span class="text">Statistics</span>
                    </a>
                </li>
                <li class="list">
                    <a>
                        <span class="icon">
                            <i class="fas fa-download"></i>
                        </span>
                        <span class="text">Download</span>
                    </a>
                </li>
                <li class="list non" id="logoutbtn">
                    <a>
                        <span class="icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </span>
                        <span class="text">Logout</span>
                    </a>
                </li>
                <div class="indicator"></div>
            </ul>
        </nav>
        <footer class="footer"> 
            © Copyright Redeemer's University Chapel of Power <span id="year">2023</span>. All Right Reserved. Designed and Developed by <a href="https://taiwojoshua.netlify.app/" target="_blank"><strong>Taiwo Joshua</strong></a>
        </footer>
    </div>
    <script src="../Assets/js/jquery.js"></script>
    <script src="../Assets/js/main.js" type="module"></script>
    <script>
        // Orders object in Ascending order of key values
        function sort_object(obj){
            items = Object.keys(obj).map(function(key){
                return [key, obj[key]];
            });
            items.sort(function(first, second){
                return second[1] - first[1];
            });
            sorted_obj = {};
            $.each(items, function(k, v){
                use_key = v[0];
                use_value = v[1];
                sorted_obj[use_key] = use_value;
            });
            return(sorted_obj);
        }

        fetch("index.xml").then(response => {
            return response.text();
        }).then(xmlString => {
            const xmlDocument = new DOMParser().parseFromString(xmlString, "text/xml");
            const members = xmlDocument.querySelectorAll("member");
            
            var departments = {};
            for (const member of members){
                const department = member.querySelector("department").textContent;
                if(departments[department] == undefined){
                    departments[department] = 1;
                }else{
                    departments[department] += 1;
                }
            }
            departments = sort_object(departments);

            $("#total").text(members.length);
            for(const key of Object.keys(departments)){
                $(".form").append('<div><strong>' + key + ':</strong><span>' + departments[key] + '</span></div>')
            };
        });
    </script>
</body>
</html>